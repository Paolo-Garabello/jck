import{s as y,n as w}from"../chunks/scheduler.DbuCXXLn.js";import{S as C,i as E,w as $,n as k,z as j,b as f,x as P,t as u,k as m,c as h,a as d,m as b,d as p,e as I,f as S,g as q,h as M,j as v,q as N,o as g,v as T,p as z,s as U,l as A}from"../chunks/index.TDUkrpct.js";import{C as O}from"../chunks/ChatWrapper.DYwHzt1L.js";const B=({params:l})=>({id:l.id}),V=Object.freeze(Object.defineProperty({__proto__:null,load:B},Symbol.toStringTag,{value:"Module"}));function F(l){let e,a;return e=new O({props:{title:l[0],websocket:l[1],chat:l[2]}}),{c(){h(e.$$.fragment)},l(n){d(e.$$.fragment,n)},m(n,r){b(e,n,r),a=!0},p(n,r){const i={};r&1&&(i.title=n[0]),r&2&&(i.websocket=n[1]),r&4&&(i.chat=n[2]),e.$set(i)},i(n){a||(u(e.$$.fragment,n),a=!0)},o(n){f(e.$$.fragment,n),a=!1},d(n){p(e,n)}}}function J(l){let e,a,n,r,i;return{c(){e=I("button"),a=S("Enable "),n=S(l[0]),this.h()},l(t){e=q(t,"BUTTON",{class:!0});var o=M(e);a=v(o,"Enable "),n=v(o,l[0]),o.forEach(m),this.h()},h(){N(e,"class","svelte-1kbh26f")},m(t,o){k(t,e,o),g(e,a),g(e,n),r||(i=T(e,"click",l[4]),r=!0)},p(t,o){o&1&&z(n,t[0])},i:w,o:w,d(t){t&&m(e),r=!1,i()}}}function W(l){let e,a,n,r;const i=[J,F],t=[];function o(s,c){return s[3]?1:0}return e=o(l),a=t[e]=i[e](l),{c(){a.c(),n=$()},l(s){a.l(s),n=$()},m(s,c){t[e].m(s,c),k(s,n,c),r=!0},p(s,[c]){let _=e;e=o(s),e===_?t[e].p(s,c):(j(),f(t[_],1,1,()=>{t[_]=null}),P(),a=t[e],a?a.p(s,c):(a=t[e]=i[e](s),a.c()),u(a,1),a.m(n.parentNode,n))},i(s){r||(u(a),r=!0)},o(s){f(a),r=!1},d(s){s&&m(n),t[e].d(s)}}}function D(l,e,a){let{title:n}=e,{websocket:r}=e,{chat:i}=e,t=!1;function o(){a(3,t=!t)}return l.$$set=s=>{"title"in s&&a(0,n=s.title),"websocket"in s&&a(1,r=s.websocket),"chat"in s&&a(2,i=s.chat)},[n,r,i,t,o]}class G extends C{constructor(e){super(),E(this,e,D,W,y,{title:0,websocket:1,chat:2})}}function H(l){let e,a,n,r,i;return a=new G({props:{title:"Public Square",websocket:l[2],chat:"public"}}),r=new O({props:{title:l[1](parseInt(l[0].id)),websocket:l[2],chat:"@"+l[0].id}}),{c(){e=I("main"),h(a.$$.fragment),n=U(),h(r.$$.fragment),this.h()},l(t){e=q(t,"MAIN",{class:!0});var o=M(e);d(a.$$.fragment,o),n=A(o),d(r.$$.fragment,o),o.forEach(m),this.h()},h(){N(e,"class","svelte-7wxmxq")},m(t,o){k(t,e,o),b(a,e,null),g(e,n),b(r,e,null),i=!0},p(t,[o]){const s={};o&1&&(s.title=t[1](parseInt(t[0].id))),o&1&&(s.chat="@"+t[0].id),r.$set(s)},i(t){i||(u(a.$$.fragment,t),u(r.$$.fragment,t),i=!0)},o(t){f(a.$$.fragment,t),f(r.$$.fragment,t),i=!1},d(t){t&&m(e),p(a),p(r)}}}function K(l,e,a){let{data:n}=e;const r=JSON.parse(localStorage.getItem("dmMessages")??"[]");function i(o){var s;return((s=r.find(c=>c.id===o))==null?void 0:s.username)??"id: "+o.toString()}let t=n.websocket;return l.$$set=o=>{"data"in o&&a(0,n=o.data)},[n,i,t]}class X extends C{constructor(e){super(),E(this,e,K,H,y,{data:0})}}export{X as component,V as universal};
